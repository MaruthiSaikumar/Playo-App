(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){e.exports=n(372)},175:function(e,t,n){},178:function(e,t,n){},224:function(e,t){},236:function(e,t){},239:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=239},242:function(e,t){},244:function(e,t){},262:function(e,t){},264:function(e,t){},284:function(e,t){},286:function(e,t){},314:function(e,t){},316:function(e,t){},317:function(e,t){},322:function(e,t){},324:function(e,t){},343:function(e,t){},355:function(e,t){},358:function(e,t){},372:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),l=n.n(c),o=(n(175),n(178),n(9)),s=n(3),u=n(11),i=(n(180),n(28)),m=n(4),d=n(5),p=n.n(d),f=n(12),v=n(19),E=n(14),b=n.n(E);b.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",b.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var g={register:function(){var e=Object(f.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/users/",t);case 2:return(n=e.sent).data&&localStorage.setItem("user",JSON.stringify(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("user")},login:function(){var e=Object(f.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/users/login",t);case 2:return(n=e.sent).data&&localStorage.setItem("user",JSON.stringify(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getUserDetails:function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(n)}},e.next=3,b.a.get("/api/users/"+"details/".concat(t),a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},h=JSON.parse(localStorage.getItem("user")),y={user:h||null,isError:!1,isSuccess:!1,isLoading:!1,message:""},O=Object(v.b)("auth/register",function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.register(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),a=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",n.rejectWithValue(a));case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}()),j=Object(v.b)("auth/login",function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.login(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),a=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",n.rejectWithValue(a));case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}()),w=Object(v.b)("auth/logout",Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.logout();case 2:case"end":return e.stop()}},e)}))),N=Object(v.c)({name:"auth",initialState:y,reducers:{reset:function(e){e.isLoading=!1,e.isSuccess=!1,e.isError=!1,e.message=""}},extraReducers:function(e){e.addCase(O.pending,function(e){e.isLoading=!0}).addCase(O.fulfilled,function(e,t){e.isLoading=!1,e.isSuccess=!0,e.user=t.payload}).addCase(O.rejected,function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload,e.user=null}).addCase(j.pending,function(e){e.isLoading=!0}).addCase(j.fulfilled,function(e,t){e.isLoading=!1,e.isSuccess=!0,e.user=t.payload}).addCase(j.rejected,function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload,e.user=null}).addCase(w.fulfilled,function(e){e.user=null})}}),S=N.actions.reset,x=N.reducer;var A=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(m.c)(function(e){return e.auth}).user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement(o.b,{to:"/"},"Playo App")),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},"My Events")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/allEvents"},"All Events")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/aprovedEvents"},"Approved Events")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/appliedEvents"},"Applied Events")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/createEvent"},"Create a Event"))),r.a.createElement("ul",null,n?r.a.createElement("li",null,r.a.createElement("button",{className:"btn",onClick:function(){t(w()),t(S()),e("/login")}},r.a.createElement(i.b,null)," Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},r.a.createElement(i.a,null)," Login")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},r.a.createElement(i.c,null)," Register"))))),r.a.createElement("h1",null,"Welcome ",n&&n.name," "))},L=n(7);var k=function(e){var t=e.event;return r.a.createElement(o.b,{to:"/event/".concat(t._id),state:{event:t}},r.a.createElement("div",{className:"goal"},r.a.createElement("div",null,new Date(t.timeOfEvent).toLocaleString("en-GB")),r.a.createElement("h2",null,t.title)))};var C=function(){return r.a.createElement("div",{className:"loadingSpinnerContainer"},r.a.createElement("div",{className:"loadingSpinner"}))},F=function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(n)}},e.next=3,b.a.post("/api/events",t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(f.a)(p.a.mark(function e(t){var n,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer ".concat(t)}},e.next=3,b.a.get("/api/events/all",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(n)}},e.next=3,b.a.delete("/api/events"+t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(n)}},e.next=3,b.a.get("/api/events/"+t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),_={createEvent:F,getallEvents:B,deleteEvent:D,getAppliedUsersForEvent:function(e,t){return Promise.all(e.usersApplied.map(function(e){return g.getUserDetails(e,t).then(function(e){return e})}))},updateEvent:function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{Authorization:"Bearer ".concat(n)}},e.next=3,b()({method:"put",url:"/api/events/update",headers:{Authorization:"Bearer ".concat(n)},data:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),getEventById:T,getApprovedUsersForEvent:function(e,t){return Promise.all(e.usersApproved.map(function(e){return g.getUserDetails(e,t).then(function(e){return e})}))},approveUserToEvent:function(){var e=Object(f.a)(p.a.mark(function e(t,n,a){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"post",url:"/api/events/approveUser",headers:{Authorization:"Bearer ".concat(a)},data:{userId:t,eventId:n}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},I={events:[],isError:!1,isSuccess:!1,isLoading:!1,message:""},U=Object(v.b)("event/create",function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.getState().auth.user.token,e.next=4,_.createEvent(t,a);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",n.rejectWithValue(r));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()),P=Object(v.b)("events/getAll",function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.getState().auth.user.token,e.next=4,_.getallEvents(a);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",n.rejectWithValue(r));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()),z=Object(v.b)("events/delete",function(){var e=Object(f.a)(p.a.mark(function e(t,n){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.getState().auth.user.token,e.next=4,_.deleteEvent(t,a);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),e.abrupt("return",n.rejectWithValue(r));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()),M=Object(v.c)({name:"event",initialState:I,reducers:{reset:function(e){return I}},extraReducers:function(e){e.addCase(U.pending,function(e){e.isLoading=!0}).addCase(U.fulfilled,function(e,t){e.isLoading=!1,e.isSuccess=!0,e.events.push(t.payload)}).addCase(U.rejected,function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload}).addCase(P.pending,function(e){e.isLoading=!0}).addCase(P.fulfilled,function(e,t){e.isLoading=!1,e.isSuccess=!0,e.events=t.payload}).addCase(P.rejected,function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload}).addCase(z.pending,function(e){e.isLoading=!0}).addCase(z.fulfilled,function(e,t){e.isLoading=!1,e.isSuccess=!0,e.events=e.events.filter(function(e){return e._id!==t.payload.id})}).addCase(z.rejected,function(e,t){e.isLoading=!1,e.isError=!0,e.message=t.payload})}}),J=M.actions.reset,W=M.reducer;function q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,c=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw c}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Y=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(a.useState)(),c=Object(L.a)(n,2),l=c[0],o=c[1],i=Object(m.c)(function(e){return e.auth}).user,d=Object(a.useState)(Object(m.c)(function(e){return e.events.events})),p=Object(L.a)(d,2),f=p[0],v=p[1],E=Object(m.c)(function(e){return e.events}),b=E.events,g=E.isLoading,h=E.isError,y=E.message;return Object(a.useEffect)(function(){return h&&console.log(y),i||e("/login"),t(P()),function(){t(J())}},[i,e,h,y,t]),Object(a.useEffect)(function(){t(P()),v(b)},[]),Object(a.useEffect)(function(){v(b)},[b]),Object(a.useEffect)(function(){if(l){var e=b.filter(function(e){return Boolean(e.title.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()))});v(e)}},[l]),g?r.a.createElement(C,null):r.a.createElement("div",{className:"allEvents"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("section",{className:"form filterItem"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t,n=new FormData(e.currentTarget),a={},r=q(n.keys());try{for(r.s();!(t=r.n()).done;){var c=t.value;a[c]=n.get(c)}}catch(o){r.e(o)}finally{r.f()}if(""!=a.startTime)if(""!=a.endTime){var l=b.filter(function(e){return new Date(a.startTime)<new Date(e.timeOfEvent)&&new Date(e.timeOfEvent)<new Date(a.endTime)});v(l)}else Object(u.b)("Please Select Ending  Date and Time toFind Events ");else Object(u.b)("Please Select Starting  Date and Time toFind Events ")}},r.a.createElement("div",{className:"form-group w-40"},r.a.createElement("label",null,"Find Events After"),r.a.createElement("input",{type:"datetime-local",id:"time",name:"startTime"})),r.a.createElement("div",{className:"form-group w-40"},r.a.createElement("label",null,"Find Events Before"),r.a.createElement("input",{type:"datetime-local",id:"time",name:"endTime"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Search Events")))),r.a.createElement("div",{className:"filterItem"},r.a.createElement("input",{type:"text",name:"requirements",id:"text",placeholder:"Search For Events",value:l,onChange:function(e){return o(e.target.value)}}))),r.a.createElement("section",{className:"content"},f.length>0?r.a.createElement("div",{className:"goals"},f.map(function(e){return r.a.createElement(k,{key:e._id,event:e})})):r.a.createElement("h3",null,"No Events")))};function V(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,c=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw c}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var G=function(){var e=Object(m.b)();return r.a.createElement("section",{className:"form"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n,a=new FormData(t.currentTarget),r={},c=V(a.keys());try{for(c.s();!(n=c.n()).done;){var l=n.value;r[l]=a.get(l)}}catch(o){c.e(o)}finally{c.f()}r.title?r.timeOfEvent?r.requirements?r.playersLimit?r.description?e(U(r)):u.b.error("Add Event Description"):u.b.error("Add Event Max No Of People"):u.b.error("Add Event Requirements"):u.b.error("Add Event Time"):u.b.error("Add Title")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"Event Title"),r.a.createElement("input",{type:"text",name:"title",id:"text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"Event Description"),r.a.createElement("textarea",{type:"text",name:"description",id:"text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"birthdaytime"},"Timimg (date and time):"),r.a.createElement("input",{type:"datetime-local",id:"time",name:"timeOfEvent"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"Max No Of People"),r.a.createElement("input",{type:"number",name:"playersLimit",id:"text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"Requirements"),r.a.createElement("input",{type:"text",name:"requirements",id:"text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add Event"))))};var H=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(m.c)(function(e){return e.auth}).user,c=Object(m.c)(function(e){return e.events}),l=(c.events,c.isLoading),o=c.isError,u=c.message;return Object(a.useEffect)(function(){return o&&console.log(u),n||e("/login"),t(P()),function(){t(J())}},[n,e,o,u,t]),l?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null))};n(204);var K=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(m.c)(function(e){return e.auth}).user,c=Object(m.c)(function(e){return e.events}),l=c.events,u=c.isLoading,i=c.isError,d=c.message,p=l&&l.filter(function(e){return e.createdBy===n._id});return Object(a.useEffect)(function(){return i&&console.log(d),n&&null!=n._id&&void 0!==n._id||e("/login"),t(P()),function(){t(J())}},[n,e,i,d,t]),u?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your Events "),r.a.createElement("section",{className:"content"},p.length>0?r.a.createElement("div",{className:"goals"},p.map(function(e){return r.a.createElement(k,{key:e._id,event:e})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"You have no Events"),r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement(o.b,{to:"/createEvent"},"Create a Event")))))},Q=n(39),X=n(22);var Z=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(L.a)(e,2),n=t[0],c=t[1],l=n.email,o=n.password,d=Object(s.f)(),p=Object(m.b)(),f=Object(m.c)(function(e){return e.auth}),v=f.user,E=f.isLoading,b=f.isError,g=f.isSuccess,h=f.message;Object(a.useEffect)(function(){b&&u.b.error(h),g&&v&&d("/"),p(S())},[v,b,g,h,d,p]);var y=function(e){c(function(t){return Object(X.a)({},t,Object(Q.a)({},e.target.name,e.target.value))})};return E?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"heading"},r.a.createElement("h1",null,r.a.createElement(i.a,null)," Login"),r.a.createElement("p",null,"Login and start Join The Events")),r.a.createElement("section",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(j({email:l,password:o}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:l,placeholder:"Enter your email",onChange:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:o,placeholder:"Enter password",onChange:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))};var ee=function(){var e=Object(a.useState)({name:"",email:"",password:"",password2:""}),t=Object(L.a)(e,2),n=t[0],c=t[1],l=n.name,o=n.email,d=n.password,p=n.password2,f=Object(s.f)(),v=Object(m.b)(),E=Object(m.c)(function(e){return e.auth}),b=E.user,g=E.isLoading,h=E.isError,y=E.isSuccess,j=E.message;Object(a.useEffect)(function(){h&&u.b.error(j),(y||b)&&f("/"),v(S())},[b,h,y,j,f,v]);var w=function(e){c(function(t){return Object(X.a)({},t,Object(Q.a)({},e.target.name,e.target.value))})};return g?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"heading"},r.a.createElement("h1",null,r.a.createElement(i.c,null)," Register"),r.a.createElement("p",null,"Please create an account")),r.a.createElement("section",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d!==p?u.b.error("Passwords do not match"):v(O({name:l,email:o,password:d}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",value:l,placeholder:"Enter your name",onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:o,placeholder:"Enter your email",onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:d,placeholder:"Enter password",onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password2",name:"password2",value:p,placeholder:"Confirm password",onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))},te=n(58);var ne=function(){var e=Object(s.g)().id,t=Object(a.useState)(""),n=Object(L.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(""),i=Object(L.a)(o,2),d=i[0],p=i[1],f=Object(a.useState)(!1),v=Object(L.a)(f,2),E=v[0],h=v[1],y=Object(m.c)(function(e){return e.auth}).user,O=Object(a.useState)(!1),j=Object(L.a)(O,2),w=j[0],N=j[1],S=Object(a.useState)(!1),x=Object(L.a)(S,2),A=x[0],k=x[1],C=Object(a.useState)({}),F=Object(L.a)(C,2),B=F[0],D=F[1],T=y.token,I=Object(a.useState)([]),U=Object(L.a)(I,2),P=U[0],z=U[1],M=Object(a.useState)([]),J=Object(L.a)(M,2),W=J[0],q=J[1];Object(a.useEffect)(function(){_.getEventById(e,T).then(function(e){D(e)}),Object.keys(B).length},[]),Object(a.useEffect)(function(){g.getUserDetails(B.createdBy,T).then(function(e){e&&l(e.name),e&&p(e.email)}),0!==Object.keys(B).length&&(_.getAppliedUsersForEvent(B,T).then(function(e){z(e)}),_.getApprovedUsersForEvent(B,T).then(function(e){q(e)}))},[B]),Object(a.useEffect)(function(){0!==Object.keys(B).length&&(B.usersApplied.includes(y._id)&&N(!0),!A&&B.usersApproved.includes(y._id)&&k(!0),E||B.createdBy!=y._id||h(!0),""!==c&&""!==d||g.getUserDetails(B.createdBy,T).then(function(e){e&&l(e.name),e&&p(e.email)}))});var R=function(e){B.usersApproved.length!==B.playersLimit?_.approveUserToEvent(P[e.target.value]._id,B._id,T).then(function(e){D(e),window.location.reload()}):u.b.error("Limit Exceeded")};return 0===Object.keys(B).length?r.a.createElement("h1",null,"No Events"):r.a.createElement("div",{className:"goal"},r.a.createElement("div",null,new Date(B.timeOfEvent).toLocaleString("en-GB")),r.a.createElement("h2",null,B.title||"No Event"),r.a.createElement("p",null," ",E?"-Hosted By you ":"others event"),r.a.createElement("p",null," ",B.description),r.a.createElement("p",null,"Members Joined :",B.usersApproved.length),r.a.createElement("p",null,"Members Limit : ",B.playersLimit),r.a.createElement("p",null,"Basic Requirements : ",B.requirements),r.a.createElement("p",null,"Organiser : ",c)," ",r.a.createElement("p",null,"Organiser Email : ",d),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h4",null,"List of Applied People"),P.length>0?P.map(function(e,t){return r.a.createElement("div",{key:t,className:"d-flex justify-content-around  mx-auto my-3 w-60"},r.a.createElement("p",null,"Name:",e.name),r.a.createElement("p",{className:" pl-2"},"Email : ",e.email),r.a.createElement(te.a,{varient:"primary",value:t,onClick:R},"Approve"))}):null),r.a.createElement("div",null,r.a.createElement("h4",null,"List of Approved People"),W.length>0?W.map(function(e,t){return r.a.createElement("div",{key:t,className:"d-flex justify-content-around  mx-auto my-3 w-60"},r.a.createElement("p",null,"Name:",e.name),r.a.createElement("p",{className:" pl-2"},"Email : ",e.email),r.a.createElement(te.a,{varient:"primary",value:t},"Already Approved"))}):null)):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("h4",null,"Join the Event ?",r.a.createElement(te.a,{variant:A?"light":w?"success":"primary",disabled:A,onClick:function(){if(B.usersApproved.length!==B.playersLimit){var e=y.token;b()({method:"put",url:"/api/"+"events/addUser/".concat(B._id),headers:{Authorization:"Bearer ".concat(e)},data:{userId:y._id}}).then(function(e){200==e.status&&N(!0),window.location.reload()})}else Object(u.b)("Sorry Limit Exeeded")}},A?"Approved By Organiser":w?"Already Applied":"Apply now"))))};var ae=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(m.c)(function(e){return e.auth}).user,c=Object(m.c)(function(e){return e.events}),l=c.events,o=c.isLoading,u=c.isError,i=c.message,d=l&&l.filter(function(e){return e.usersApproved.includes(n._id)});return Object(a.useEffect)(function(){return u&&console.log(i),n||e("/login"),t(P()),function(){t(J())}},[n,e,u,i,t]),o?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your Events "),r.a.createElement("section",{className:"content"},d.length>0?r.a.createElement("div",{className:"goals"},d.map(function(e){return r.a.createElement(k,{key:e._id,event:e})})):r.a.createElement("h3",null,"You have no Approved Events")))};var re=function(){var e=Object(s.f)(),t=Object(m.b)(),n=Object(m.c)(function(e){return e.auth}).user,c=Object(m.c)(function(e){return e.events}),l=c.events,o=c.isLoading,u=c.isError,i=c.message,d=l&&l.filter(function(e){return e.usersApplied.includes(n._id)});return Object(a.useEffect)(function(){return u&&console.log(i),n||e("/login"),t(P()),function(){t(J())}},[n,e,u,i,t]),o?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your Events "),r.a.createElement("section",{className:"content"},d.length>0?r.a.createElement("div",{className:"goals"},d.map(function(e){return r.a.createElement(k,{key:e._id,event:e})})):r.a.createElement("h3",null,"You have no Applied Events ")))};var ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(A,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(K,null)}),r.a.createElement(s.a,{path:"/login",element:r.a.createElement(Z,null)}),r.a.createElement(s.a,{path:"/register",element:r.a.createElement(ee,null)}),r.a.createElement(s.a,{path:"/allEvents",element:r.a.createElement(Y,null)}),r.a.createElement(s.a,{path:"/createEvent",element:r.a.createElement(H,null)}),r.a.createElement(s.a,{path:"/event/:id",element:r.a.createElement(ne,null)}),r.a.createElement(s.a,{path:"/aprovedEvents",element:r.a.createElement(ae,null)}),r.a.createElement(s.a,{path:"/appliedEvents",element:r.a.createElement(re,null)})))),r.a.createElement(u.a,null))},le=Object(v.a)({reducer:{auth:x,events:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(370);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:le},r.a.createElement(ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[170,2,1]]]);
//# sourceMappingURL=main.046efc94.chunk.js.map